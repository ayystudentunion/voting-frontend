<h1>Hallintovaalit</h1>

<form novalidate>

  <h2>Äänestä</h2>

  <span
    ng-hide="vote.isProspectSelected()">
    Valitse ehdokas listasta, sen jälkeen tähän ilmestyy äänestyslippu.
  </span>

  <vote-prospect
    ng-show="vote.isProspectSelected()"
    selected="vote.selected"
    all="vote.candidates">
  </vote-prospect>

  <br>

  <button
    vote-confirm-click="Haluatko äänestää valitsemaasi henkilöä? Et voi muuttaa ääntäsi jälkikäteen."
    vote-confirm-action="vote.register()"
    ng-show="vote.isProspectSelected()">
      Äänestä
    </button>

  <h2>Hae ehdokasta</h2>
  <label>
    Numero
    <input ng-model="vote.candidate.number">
  </label>

  <label>
    Nimi
    <input ng-model="vote.candidate.name">
  </label>

  <div ng-repeat="a in vote.alliances">
    <h1
      ng-bind="a.name"
      ng-show="filteredCandidates.length">
    </h1>

    <ul>
      <li ng-repeat="c in filteredCandidates = (a.candidates | filter:vote.candidate)">
        <label>
          <input
            type="radio"
            ng-model="vote.selected"
            ng-value="c.id">
          {{ c.id }}
          {{ c.number }}
          {{ c.name }}
        </label>
      </li>
    </ul>
  </div>

</form>

<pre ng-bind="vote.alliances | candidate:vote.candidate | json"></pre>
